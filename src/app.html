<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="%sveltekit.assets%/favicon.png?v=2025" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta name="color-scheme" content="light dark" />
		<script>
			// Detección y aplicación inmediata del tema para evitar flash
			(function() {
				function setTheme() {
					const html = document.documentElement;
					
					// Detectar preferencia del usuario/sistema
					const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
					
					// Aplicar clase dark si prefiere modo oscuro
					if (prefersDark) {
						html.classList.add('dark');
						html.style.colorScheme = 'dark';
					} else {
						html.classList.remove('dark');
						html.style.colorScheme = 'light';
					}
				}
				
				// Aplicar tema inmediatamente
				setTheme();
				
				// Escuchar cambios en las preferencias del sistema
				if (window.matchMedia) {
					const mediaQuery = window.matchMedia('(prefers-color-scheme: dark)');
					// Para navegadores modernos
					if (mediaQuery.addEventListener) {
						mediaQuery.addEventListener('change', setTheme);
					} 
					// Para navegadores más antiguos
					else if (mediaQuery.addListener) {
						mediaQuery.addListener(setTheme);
					}
				}
			})();
		</script>
		%sveltekit.head%
	</head>
	<body data-sveltekit-preload-data="hover">
		<div style="display: contents">%sveltekit.body%</div>
	</body>
</html>
